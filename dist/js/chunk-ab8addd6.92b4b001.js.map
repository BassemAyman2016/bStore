{"version":3,"sources":["webpack:///./src/components/MyOrders.vue?afb4","webpack:///./src/components/MyOrders.vue?49a7","webpack:///src/components/MyOrders.vue","webpack:///./src/components/MyOrders.vue?30b1","webpack:///./src/components/MyOrders.vue","webpack:///./src/components/PayementCard.vue?0668","webpack:///src/components/PayementCard.vue","webpack:///./src/components/PayementCard.vue?7929","webpack:///./src/components/PayementCard.vue","webpack:///./src/components/PayementCard.vue?e78d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$q","screen","gt","_e","class","sm","_v","staticStyle","attrs","_l","order","index","key","scopedSlots","_u","fn","icon","color","_s","id","creation_date","creation_time","Status","proxy","platform","is","mobile","item","products","length","count","product","name","price","totalPrice","on","$event","payOrderClicked","cancelOrderClicked","model","value","callback","$$v","showPay","expression","selectedOrder","paymentCardAction","directives","rawName","showCancel","cancelCardAction","staticRenderFns","components","PaymentCard","data","createdOrderId","currentOrders","tempCurrentOrders","methods","computed","currentCart","$store","getters","getCart","created","getMyOrders","component","ref","submit","props","currentOrder","required","default","stripeAPIToken","stripe","elements","card","configureStripe","Stripe","base","paddingTop","create","mount","includeStripe","object","src","URL","addEventListener","scriptTag","parentNode","insertBefore"],"mappings":"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","file":"js/chunk-ab8addd6.92b4b001.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrders.vue?vue&type=style&index=0&id=42d7c89c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrders.vue?vue&type=style&index=0&id=42d7c89c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',[_c('div',{staticClass:\"row\"},[(_vm.$q.screen.gt.sm)?_c('div',{staticClass:\"col-2\"}):_vm._e(),_c('div',{class:_vm.$q.screen.gt.sm ? 'col-8' : 'col-12'},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 q-pa-md\"},[_c('div',{staticClass:\"row text-h5\"},[_vm._v(\" Orders: \")]),_c('div',{staticClass:\"row\"},[_c('q-card',{staticClass:\" bg-grey-1\",staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"column\"},[_c('q-list',{staticClass:\"rounded-borders\",attrs:{\"bordered\":\"\"}},_vm._l((_vm.tempCurrentOrders),function(order,index){return _c('q-expansion-item',{key:index,attrs:{\"expand-separator\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"icon\":order.icon,\"color\":order.color,\"text-color\":\"white\"}})],1),_c('q-item-section',[_c('div',{staticClass:\"text-subtitle2\"},[_vm._v(\" Order Number: #\"+_vm._s(order.id)+\" \")]),_c('div',{staticClass:\"text-caption\"},[_vm._v(\" Date: \"+_vm._s(order.creation_date)+\" \")]),_c('div',{staticClass:\"text-caption\"},[_vm._v(\" Time: \"+_vm._s(order.creation_time)+\" \")])]),_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('div',{class:'text-bold text-' + order.color,attrs:{\"background-color\":\"white\"}},[_vm._v(\" \"+_vm._s(order.Status)+\" \")])])]},proxy:true}],null,true)},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"row\"},[_c('div',{class:_vm.$q.platform.is.mobile\n                                ? order.Status == 'Pending'\n                                  ? 'col-8'\n                                  : 'col-12'\n                                : order.Status == 'Pending'\n                                ? 'col-9'\n                                : 'col-12'},[_vm._l((order.products),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"row\",class:{\n                                  'q-mb-sm':\n                                    index == order.products.length - 1\n                                }},[_c('div',{staticClass:\"col-shrink\"},[_vm._v(\" \"+_vm._s(item.count)+\" x \"+_vm._s(item.product.name)+\" \")]),_c('div',{staticClass:\"col\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"dotted-line\"})]),_c('div',{staticClass:\"col-shrink\"},[_vm._v(\" \"+_vm._s(item.count * item.product.price)+\"EGP \")])])])}),_c('div',{staticClass:\"row q-mb-sm\"},[_c('div',{staticClass:\"col\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"dotted-line2\"})])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-shrink\"},[_vm._v(\" Total Price: \")]),_c('div',{staticClass:\"col\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"dotted-line\"})]),_c('div',{staticClass:\"col-shrink\"},[_vm._v(\" \"+_vm._s(order.totalPrice)+\" EGP \")])])],2),(order.Status == 'Pending')?_c('div',{class:_vm.$q.platform.is.mobile ? 'col-4' : 'col-3'},[_c('div',{staticClass:\"column justify-end\"},[_c('div',{staticClass:\"col-12 q-my-sm\"},[_c('div',{staticClass:\"row justify-center\"},[_c('q-btn',{attrs:{\"color\":\"green-6\",\"label\":\"Pay Order\",\"size\":_vm.$q.platform.is.mobile ? 'sm' : 'md',\"dense\":_vm.$q.platform.is.mobile},on:{\"click\":function($event){return _vm.payOrderClicked(order)}}})],1)]),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row justify-center\"},[_c('q-btn',{attrs:{\"color\":\"red-8\",\"label\":\"Cancel Order\",\"dense\":_vm.$q.platform.is.mobile,\"size\":_vm.$q.platform.is.mobile ? 'sm' : 'md'},on:{\"click\":function($event){return _vm.cancelOrderClicked(order)}}})],1)])])]):_vm._e()])])],1)],1)}),1)],1)])],1)])])]),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.showPay),callback:function ($$v) {_vm.showPay=$$v},expression:\"showPay\"}},[_c('q-card',{staticStyle:{\"width\":\"300px\"}},[_c('q-card-section',{staticClass:\"row items-center\"},[_c('PaymentCard',{attrs:{\"currentOrder\":this.selectedOrder},on:{\"orderPaymentSuccess\":_vm.paymentCardAction}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"cancel\",\"color\":\"primary\"},on:{\"click\":_vm.paymentCardAction}})],1)],1)],1),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.showCancel),callback:function ($$v) {_vm.showCancel=$$v},expression:\"showCancel\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center\"},[_c('span',{staticClass:\"q-ml-sm\"},[_vm._v(\"Are you sure you want to cancel your order ?\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"No\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.cancelCardAction(1)}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Yes\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.cancelCardAction(2)}}})],1)],1)],1),(_vm.$q.screen.gt.sm)?_c('div',{staticClass:\"col-2\"}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <q-page>\r\n    <div class=\"row\">\r\n      <div class=\"col-2\" v-if=\"$q.screen.gt.sm\"></div>\r\n\r\n      <div :class=\"$q.screen.gt.sm ? 'col-8' : 'col-12'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 q-pa-md\">\r\n            <div class=\"row text-h5\">\r\n              Orders:\r\n            </div>\r\n            <div class=\"row\">\r\n              <q-card class=\" bg-grey-1\" style=\"width:100%;\">\r\n                <div class=\"column\">\r\n                  <q-list bordered class=\"rounded-borders\">\r\n                    <q-expansion-item\r\n                      v-for=\"(order, index) in tempCurrentOrders\"\r\n                      :key=\"index\"\r\n                      expand-separator\r\n                    >\r\n                      <template v-slot:header>\r\n                        <q-item-section avatar>\r\n                          <q-avatar\r\n                            :icon=\"order.icon\"\r\n                            :color=\"order.color\"\r\n                            text-color=\"white\"\r\n                          />\r\n                        </q-item-section>\r\n\r\n                        <q-item-section>\r\n                          <div class=\"text-subtitle2\">\r\n                            Order Number: #{{ order.id }}\r\n                          </div>\r\n                          <div class=\"text-caption\">\r\n                            Date: {{ order.creation_date }}\r\n                          </div>\r\n                          <div class=\"text-caption\">\r\n                            Time: {{ order.creation_time }}\r\n                          </div>\r\n                        </q-item-section>\r\n\r\n                        <q-item-section side>\r\n                          <div\r\n                            :class=\"'text-bold text-' + order.color\"\r\n                            background-color=\"white\"\r\n                          >\r\n                            {{ order.Status }}\r\n                          </div>\r\n                        </q-item-section>\r\n                      </template>\r\n                      <q-card>\r\n                        <q-card-section>\r\n                          <div class=\"row\">\r\n                            <div\r\n                              :class=\"\r\n                                $q.platform.is.mobile\r\n                                  ? order.Status == 'Pending'\r\n                                    ? 'col-8'\r\n                                    : 'col-12'\r\n                                  : order.Status == 'Pending'\r\n                                  ? 'col-9'\r\n                                  : 'col-12'\r\n                              \"\r\n                            >\r\n                              <div\r\n                                v-for=\"(item, index) in order.products\"\r\n                                :key=\"index\"\r\n                              >\r\n                                <div\r\n                                  class=\"row\"\r\n                                  :class=\"{\r\n                                    'q-mb-sm':\r\n                                      index == order.products.length - 1\r\n                                  }\"\r\n                                >\r\n                                  <div class=\"col-shrink\">\r\n                                    {{ item.count }} x {{ item.product.name }}\r\n                                  </div>\r\n                                  <div class=\"col\" style=\"position:relative\">\r\n                                    <div class=\"dotted-line\"></div>\r\n                                  </div>\r\n                                  <div class=\"col-shrink\">\r\n                                    {{ item.count * item.product.price }}EGP\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"row q-mb-sm\">\r\n                                <div class=\"col\" style=\"position:relative\">\r\n                                  <div class=\"dotted-line2\"></div>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"row\">\r\n                                <div class=\"col-shrink\">\r\n                                  Total Price:\r\n                                </div>\r\n                                <div class=\"col\" style=\"position:relative\">\r\n                                  <div class=\"dotted-line\"></div>\r\n                                </div>\r\n                                <div class=\"col-shrink\">\r\n                                  {{ order.totalPrice }} EGP\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div\r\n                              :class=\"$q.platform.is.mobile ? 'col-4' : 'col-3'\"\r\n                              v-if=\"order.Status == 'Pending'\"\r\n                            >\r\n                              <div class=\"column justify-end\">\r\n                                <div class=\"col-12 q-my-sm\">\r\n                                  <div class=\"row justify-center\">\r\n                                    <q-btn\r\n                                      color=\"green-6\"\r\n                                      label=\"Pay Order\"\r\n                                      :size=\"\r\n                                        $q.platform.is.mobile ? 'sm' : 'md'\r\n                                      \"\r\n                                      :dense=\"$q.platform.is.mobile\"\r\n                                      @click=\"payOrderClicked(order)\"\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                                <div class=\"col-12\">\r\n                                  <div class=\"row justify-center\">\r\n                                    <q-btn\r\n                                      color=\"red-8\"\r\n                                      label=\"Cancel Order\"\r\n                                      :dense=\"$q.platform.is.mobile\"\r\n                                      :size=\"\r\n                                        $q.platform.is.mobile ? 'sm' : 'md'\r\n                                      \"\r\n                                      @click=\"cancelOrderClicked(order)\"\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </q-card-section>\r\n                      </q-card>\r\n                    </q-expansion-item>\r\n                  </q-list>\r\n                </div>\r\n              </q-card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <q-dialog v-model=\"showPay\" persistent>\r\n        <q-card style=\"width: 300px\">\r\n          <q-card-section class=\"row items-center\">\r\n            <PaymentCard\r\n              :currentOrder=\"this.selectedOrder\"\r\n              @orderPaymentSuccess=\"paymentCardAction\"\r\n            />\r\n          </q-card-section>\r\n          <q-card-actions align=\"right\">\r\n            <q-btn\r\n              flat\r\n              label=\"cancel\"\r\n              color=\"primary\"\r\n              v-close-popup\r\n              @click=\"paymentCardAction\"\r\n            />\r\n          </q-card-actions>\r\n        </q-card>\r\n      </q-dialog>\r\n      <q-dialog v-model=\"showCancel\" persistent>\r\n        <q-card>\r\n          <q-card-section class=\"row items-center\">\r\n            <span class=\"q-ml-sm\"\r\n              >Are you sure you want to cancel your order ?</span\r\n            >\r\n          </q-card-section>\r\n\r\n          <q-card-actions align=\"right\">\r\n            <q-btn\r\n              flat\r\n              label=\"No\"\r\n              color=\"primary\"\r\n              v-close-popup\r\n              @click=\"cancelCardAction(1)\"\r\n            />\r\n            <q-btn\r\n              flat\r\n              label=\"Yes\"\r\n              color=\"primary\"\r\n              @click=\"cancelCardAction(2)\"\r\n              v-close-popup\r\n            />\r\n          </q-card-actions>\r\n        </q-card>\r\n      </q-dialog>\r\n\r\n      <div class=\"col-2\" v-if=\"$q.screen.gt.sm\"></div>\r\n    </div>\r\n  </q-page>\r\n</template>\r\n\r\n<script>\r\nimport api from \"../store/api\";\r\nimport PaymentCard from \"./PayementCard\";\r\nexport default {\r\n  name: \"MyOrders\",\r\n  components: {\r\n    PaymentCard\r\n  },\r\n  data() {\r\n    return {\r\n      totalPrice: 0,\r\n      showPay: false,\r\n      showCancel: false,\r\n      createdOrderId: null,\r\n      currentOrders: [],\r\n      tempCurrentOrders: [],\r\n      selectedOrder: null\r\n    };\r\n  },\r\n  methods: {\r\n    cancelOrderClicked(order) {\r\n      this.selectedOrder = order;\r\n      this.showCancel = true;\r\n    },\r\n    payOrderClicked(order) {\r\n      this.selectedOrder = order;\r\n      this.showPay = true;\r\n    },\r\n\r\n    async paymentCardAction() {\r\n      await this.getMyOrders();\r\n      this.showPay = false;\r\n      this.selectedOrder = null;\r\n    },\r\n    async cancelCardAction(value) {\r\n      if (value == 2) {\r\n        await this.$store\r\n          .dispatch(\"cancelOrder\", this.selectedOrder.id)\r\n          .then(res => {\r\n            this.$q.notify({\r\n              type:\r\n                res.status && res.status == \"success\" ? \"positive\" : \"negative\",\r\n              message: res.message ? res.message : \"Error Occured\",\r\n              timeout: 2000\r\n            });\r\n          });\r\n        await this.getMyOrders();\r\n      }\r\n      this.showCancel = false;\r\n      this.selectedOrder = null;\r\n    },\r\n    async getMyOrders() {\r\n      await api()\r\n        .get(\"/orders/getCustomerOrders\")\r\n        .then(res => {\r\n          if (res.data.status == \"success\") {\r\n            var holder = res.data.data;\r\n            holder.forEach(order => {\r\n              var timeStamp = order.created_at;\r\n              var outputDate = timeStamp.substring(0, 10);\r\n              order.creation_date = outputDate;\r\n              var outputTime = timeStamp.substring(11, 19);\r\n              order.creation_time = outputTime;\r\n\r\n              if (!order.paid && !order.cancelled) {\r\n                order.Status = \"Pending\";\r\n                order.color = \"yellow\";\r\n                order.icon = \"receipt\";\r\n              }\r\n              if (!order.paid && order.cancelled) {\r\n                order.Status = \"Cancelled\";\r\n                order.color = \"red\";\r\n                order.icon = \"close\";\r\n              }\r\n              if (order.paid && !order.cancelled) {\r\n                order.Status = \"Paid\";\r\n                order.color = \"green\";\r\n                order.icon = \"check\";\r\n              }\r\n              order.totalPrice = 0;\r\n              order.products.forEach(itm => {\r\n                order.totalPrice += itm.count * itm.product.price;\r\n              });\r\n            });\r\n            this.tempCurrentOrders = holder;\r\n            this.currentOrders = holder;\r\n          }\r\n        });\r\n    }\r\n  },\r\n  computed: {\r\n    currentCart() {\r\n      return this.$store.getters.getCart;\r\n    }\r\n  },\r\n  created() {\r\n    this.getMyOrders();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.first {\r\n  float: left;\r\n  margin-right: 1em;\r\n}\r\n.price {\r\n  float: right;\r\n  margin-left: 1em;\r\n}\r\n.list:after {\r\n  content: \"\";\r\n  border-bottom: dotted;\r\n  display: block;\r\n  overflow: hidden;\r\n  height: 0.6em;\r\n}\r\n.dotted-line {\r\n  border-bottom: dashed 1.2px;\r\n  position: absolute;\r\n  top: 50%;\r\n  width: 96%;\r\n  right: 2%;\r\n}\r\n.dotted-line2 {\r\n  border-bottom: solid 1.2px;\r\n  position: absolute;\r\n  top: 50%;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyOrders.vue?vue&type=template&id=42d7c89c&scoped=true&\"\nimport script from \"./MyOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./MyOrders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyOrders.vue?vue&type=style&index=0&id=42d7c89c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42d7c89c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{ref:\"card\"}),_c('div',{staticClass:\"q-mb-lg\"},[_vm._v(\"Payment Card\")]),_c('div',{attrs:{\"id\":\"card-element\"}}),_c('div',[_c('button',{staticClass:\"payment-button\",on:{\"click\":_vm.submit}},[_vm._v(\"Pay\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width:100%\">\r\n    <div ref=\"card\"></div>\r\n    <div class=\"q-mb-lg\">Payment Card</div>\r\n    <div id=\"card-element\"></div>\r\n    <div>\r\n      <button class=\"payment-button\" @click=\"submit\">Pay</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    currentOrder: {\r\n      required: true,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      stripeAPIToken: process.env.VUE_APP_STRIPE_PUBLISHABLE_KEY,\r\n      stripe: \"\",\r\n      elements: \"\",\r\n      card: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    configureStripe() {\r\n      // eslint-disable-next-line no-undef\r\n      this.stripe = Stripe(this.stripeAPIToken);\r\n      this.elements = this.stripe.elements();\r\n      let style = {\r\n        base: {\r\n          color: \"#32325d\",\r\n          paddingTop: \"15px\"\r\n        }\r\n      };\r\n      this.card = this.elements.create(\"card\", { style });\r\n\r\n      this.card.mount(\"#card-element\");\r\n    },\r\n    includeStripe(URL, callback) {\r\n      let documentTag = document,\r\n        tag = \"script\",\r\n        object = documentTag.createElement(tag),\r\n        scriptTag = documentTag.getElementsByTagName(tag)[0];\r\n      object.src = \"//\" + URL;\r\n      if (callback) {\r\n        object.addEventListener(\r\n          \"load\",\r\n          function(e) {\r\n            callback(null, e);\r\n          },\r\n          false\r\n        );\r\n      }\r\n      scriptTag.parentNode.insertBefore(object, scriptTag);\r\n    },\r\n    async submit(e) {\r\n      e.preventDefault();\r\n      var clientSecret = this.currentOrder.payment_intent;\r\n      const name = this.$store.getters.getCustomerName;\r\n      this.$q.loading.show();\r\n      await this.stripe\r\n        .confirmCardPayment(clientSecret, {\r\n          payment_method: {\r\n            card: this.card,\r\n            billing_details: {\r\n              name: name\r\n            }\r\n          }\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        .then(res => {\r\n          this.$q.loading.hide();\r\n          // console.log(\"re1s\", res);\r\n        })\r\n        // eslint-disable-next-line no-unused-vars\r\n        .catch(err => {\r\n          this.$q.loading.hide();\r\n          // console.log(\"er1r\", err);\r\n        });\r\n      await this.$store\r\n        .dispatch(\"payOrder\", {\r\n          order_id: this.currentOrder.id\r\n        })\r\n        .then(res => {\r\n          this.$q.notify({\r\n            type:\r\n              res.status && res.status == \"success\" ? \"positive\" : \"negative\",\r\n            message: res.message ? res.message : \"Error Occured\",\r\n            timeout: 2000\r\n          });\r\n          this.$emit(\"orderPaymentSuccess\");\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.includeStripe(\r\n      \"js.stripe.com/v3/\",\r\n      function() {\r\n        this.configureStripe();\r\n      }.bind(this)\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.payment-button {\r\n  width: 100%;\r\n  margin-top: 20px;\r\n  color: white;\r\n  background-color: rgb(66, 0, 128);\r\n  border-radius: 5px;\r\n  border: none;\r\n  font-weight: bold;\r\n  font-size: 14;\r\n  height: 30px;\r\n  outline: none;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayementCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayementCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PayementCard.vue?vue&type=template&id=23cfe2ae&scoped=true&\"\nimport script from \"./PayementCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PayementCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PayementCard.vue?vue&type=style&index=0&id=23cfe2ae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23cfe2ae\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayementCard.vue?vue&type=style&index=0&id=23cfe2ae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayementCard.vue?vue&type=style&index=0&id=23cfe2ae&lang=scss&scoped=true&\""],"sourceRoot":""}