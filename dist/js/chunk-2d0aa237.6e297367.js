(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa237"],{1079:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[t.$q.screen.gt.sm?s("div",{staticClass:"col-2"}):t._e(),s("div",{staticClass:" q-pa-md",class:t.$q.screen.gt.sm?"col-8":"col-12"},[s("div",{staticClass:"row justify-center"},[s("div",{class:t.$q.screen.gt.sm?"col-8":"col-12"},[s("div",{staticClass:"row text-h5 q-mb-md"},[t._v(" Add New Product ")]),s("div",[s("q-card",{staticClass:" bg-grey-1 row q-mb-sm",staticStyle:{width:"100%"}},[s("div",{staticClass:"col-12"},[s("q-card-section",{staticClass:" col-12 "},[s("div",{staticClass:"row"},[s("div",{staticClass:"col  "},[s("q-input",{attrs:{"bg-color":"white",outlined:"",label:"Product Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])]),s("q-card-section",{staticClass:" col-12 "},[s("div",{staticClass:"row"},[s("div",{staticClass:"col  "},[s("q-input",{attrs:{"bg-color":"white",outlined:"",label:"Description",type:"textarea"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)])]),s("q-card-section",{staticClass:" col-12 "},[s("div",{staticClass:"row"},[s("div",{staticClass:"col  "},[s("q-input",{attrs:{"bg-color":"white",outlined:"",label:"Price",type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)])]),s("q-card-section",{staticClass:" col-12 "},[s("div",{staticClass:"row"},[s("div",{staticClass:"col  "},[s("q-input",{attrs:{"bg-color":"white",outlined:"",label:"Stock",type:"number"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1)])]),s("q-card-section",{staticClass:" col-12 "},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"column"},[s("div",{staticClass:"col q-mb-md"},[s("Dropdown",{attrs:{options:t.availableCategories,placeholder:"Category",clearData:t.dataEraser},on:{selected:function(e){return t.dropdownInput(e,"category")}}})],1),s("div",{staticClass:"col q-mb-md"},[s("Dropdown",{attrs:{options:t.availableBrands,placeholder:"Brand",clearData:t.dataEraser},on:{selected:function(e){return t.dropdownInput(e,"brand")}}})],1),s("div",{staticClass:"col"},[s("Dropdown",{attrs:{options:t.availableModels,placeholder:"Model",clearData:t.dataEraser},on:{selected:function(e){return t.dropdownInput(e,"model")}}})],1)])]),s("div",{staticClass:"col-5 offset-1"},[s("div",{staticClass:"row ",staticStyle:{"font-size":"12px"}},[s("div",{staticClass:"col-12 q-mb-sm"},[t._v(" Uploads "),s("q-toggle",{attrs:{size:"xs"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" Links ")],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"col-12"},t._l(t.imageLinks,(function(e,i){return s("div",{key:e.distinctNumber,staticClass:"row justify-evenly items-center q-mb-sm"},[s("div",{staticClass:"col-9"},[s("q-input",{attrs:{"bg-color":"white",outlined:"",dense:"",label:"Link "+(i+1),type:"text"},model:{value:e.link,callback:function(s){t.$set(e,"link",s)},expression:"item.link"}})],1),s("div",{staticClass:"col-2"},0==i?[s("q-btn",{staticClass:"bg-green-14 text-white",attrs:{round:"",dense:"",size:"sm",icon:"add"},on:{click:t.addImageLink}})]:[s("q-btn",{staticClass:"bg-red-8 text-white",attrs:{round:"",dense:"",size:"sm",icon:"remove"},on:{click:function(s){return t.removeImageLink(e)}}})],1)])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],staticClass:"col-12"},t._l(t.imageInputs,(function(e,i){return s("div",{key:e.distinctNumber,staticClass:"row justify-evenly items-center q-mb-sm"},[s("div",{staticClass:"col-9"},[s("PictureInput",{attrs:{width:"150",height:"100",accept:"image/jpeg,image/png",size:"10",autoToggleAspectRatio:!0,zIndex:0,buttonClass:"btn",hideChangeButton:!0},on:{change:function(s){return t.imageUpload(s,e)}}})],1),s("div",{staticClass:"col-2"},0==i?[s("q-btn",{staticClass:"bg-green-14 text-white",attrs:{round:"",dense:"",size:"sm",icon:"add"},on:{click:t.addImageInput}})]:[s("q-btn",{staticClass:"bg-red-8 text-white",attrs:{round:"",dense:"",size:"sm",icon:"remove"},on:{click:function(s){return t.removeImageInput(e)}}})],1)])})),0)])])])])],1),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row justify-center ",staticStyle:{height:"100%"}},[s("div",{staticClass:"col-shrink"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-shrink q-my-sm q-mx-xs"},[s("q-btn",{attrs:{color:"green-7",label:"Create Product",size:t.$q.platform.is.mobile?"sm":"md"},on:{click:t.createNewProduct}})],1),s("div",{staticClass:"col-shrink q-my-sm q-mx-xs"},[s("q-btn",{attrs:{color:"negative",label:"Clear",size:t.$q.platform.is.mobile?"xs":"md"},on:{click:t.clearAllData}})],1)])])])])])],1)])])]),t.$q.screen.gt.sm?s("div",{staticClass:"col-2"}):t._e()])},a=[],n=(s("a4d3"),s("e01a"),s("4160"),s("a434"),s("b0c0"),s("9911"),s("159b"),s("96cf"),s("1da1")),c=s("5bac"),r=s("e597"),o=s("2677"),l=s("c151"),d={name:"CreateProduct",components:{Dropdown:c["a"],PictureInput:r["a"]},data:function(){return{name:"",description:"",price:"",stock:"",category:null,brand:null,model:null,imageInputs:[{distinctNumber:0}],imageLinks:[{distinctNumber:10,link:""}],distinctNumberGenerator:1,value:!1,dataEraser:!1}},methods:{createNewProduct:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.name&&0!=t.name.length&&t.description&&0!=t.description.length&&t.price&&0!=t.price.length&&t.stock&&0!=t.stock.length&&t.category&&t.brand&&t.model){e.next=3;break}return t.$q.notify({type:"negative",message:"Parameter(s) missing",timeout:2e3}),e.abrupt("return");case 3:if(s={name:t.name&&t.name.length>0?t.name:null,description:t.description&&t.description.length>0?t.description:null,price:t.price&&t.price.length>0?t.price:null,stock:t.stock&&t.stock.length>0?t.stock:null,category_id:t.category&&t.category.name?t.category.id:null,brand_id:t.brand&&t.brand.name?t.brand.id:null,model_id:t.model&&t.model.name?t.model.id:null},i=[],t.imageInputs.forEach((function(t){t.image_url&&t.image_url.length>0&&i.push(t.image_url)})),t.imageLinks.forEach((function(t){t.link&&t.link.length>0&&i.push(t.link)})),s.images=i,0!=i.length){e.next=11;break}return t.$q.notify({type:"negative",message:"Product images are missing",timeout:2e3}),e.abrupt("return");case 11:return e.next=13,Object(l["a"])().post("products/createProduct",s).then((function(e){e.data.status&&"success"==e.data.status&&(t.$q.notify({type:"positive",message:"Product created successfully",timeout:2e3}),t.clearAllData())})).catch((function(e){var s=e.response.data;t.$q.notify({type:"negative",message:s.message,timeout:2e3})}));case 13:case"end":return e.stop()}}),e)})))()},imageUpload:function(t,e){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,n,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=-1,s.imageInputs.forEach((function(t,s){t.distinctNumber==e.distinctNumber&&(a=s)})),n=new FormData,n.append("file",t),i.next=6,Object(o["a"])(n);case 6:c=i.sent,c.status&&"success"==c.status&&-1!==a&&(s.imageInputs[a].image_url=c.link);case 8:case"end":return i.stop()}}),i)})))()},addImageInput:function(){this.imageInputs.push({distinctNumber:this.distinctNumberGenerator++})},removeImageInput:function(t){var e=-1;this.imageInputs.forEach((function(s,i){s.distinctNumber==t.distinctNumber&&(e=i)})),-1!==e&&this.imageInputs.splice(e,1)},addImageLink:function(){this.imageLinks.push({distinctNumber:this.distinctNumberGenerator++,link:""})},removeImageLink:function(t){var e=-1;this.imageLinks.forEach((function(s,i){s.distinctNumber==t.distinctNumber&&(e=i)})),-1!==e&&this.imageLinks.splice(e,1)},dropdownInput:function(t,e){this[e]=t},clearAllData:function(){var t=this;this.name="",this.description="",this.price="",this.stock="",this.category=null,this.brand=null,this.model=null,this.imageInputs=[{distinctNumber:this.distinctNumberGenerator++}],this.imageLinks=[{distinctNumber:this.distinctNumberGenerator++,link:""}],this.dataEraser=!0,setTimeout((function(){t.dataEraser=!1}),100)}},computed:{availableCategories:function(){return this.$store.getters.getCategories},availableBrands:function(){return this.$store.getters.getBrands},availableModels:function(){return this.$store.getters.getModels}},created:function(){window.scrollTo(0,0)}},u=d,m=s("2877"),p=Object(m["a"])(u,i,a,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0aa237.6e297367.js.map